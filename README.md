# 授業まとめ
今学期扱った主な内容
- 相関係数
- 単回帰
- 重回帰
- ロジスティック回帰
- 主成分分析

# 相関係数
相関係数により、異なる事象の相互関係の強さを分析することができる。

### データの種類
- 量的データ：測ることができるデータ
    - 離散型データ：整数値だけをとるデータ（Ex: クラスの人数、サイコロの出た目）
    - 連続型データ：整数値以外の値もとるデータ（Ex: 身長、体重）

- 質的データ：測ることができないデータ（Ex: 性別、血液型）

### 共分散
２種類のデータの関係の度合いを示す代表値。共分散の値がすごく大きいもしくは小さいときに関係は強い、共分散の値が 0 付近のときは関係が弱いと言える。

#### 💡共分散の問題点
２次元データが２組あったとき、これらの共分散を用いて２組のうちどちらが関係の度合いが強いかを判断することはできない。

### 相関係数
共分散を基準化したもの

#### 相関係数の種類
- ピアソンの積率相関係数：データが正規分布と仮定できる時に使用。Cor関数を使用。
#### Rコード例
```
# 全ての要素の相関係数を出力
cor(data, method="pearson")

# 特定の2つの要素の相関係数に関する検定
cor.test(data$要素1, data$要素2, method="pearson")
```

- スピアマンの順位相関係数：データが正規分布とは考え難い時に使用。Cor関数を使用。
#### Rコード例
```
cor.test(data$要素1, data$要素2, method="spearman")
```
=> 相関係数.html、ライブラリなし.html

# 単回帰分析
結果に対して１つの原因の影響を分析する方法。

### 最小二乗法
直線とデータとの差 (誤差) を測ってやり，その差の２乗和が最小になるように直線を決定する方法。lm関数を使用。
#### Rコード例
```
# lm関数で最小二乗法を行う
result <- lm(y ~ x)

# 推定結果の詳細確認をsummary()で行う
summary(result)
```

- p値：得られた結果が偶然かどうか確認するための指標。0.05以下であれば「偶然とは言いにくいので統計的に有意と判断する目安」となる。
- 自由度調整済み決定係数（Adjusted R-squared）：モデルがデータのばらつきをどれだけ説明できているかを示す指標。

最小二乗法.html、ライブラリなし.html

# 重回帰分析
結果に対して複数の原因の影響を分析する
- 目的変数：予測・説明したい対象
- 説明変数：目的変数を説明するための変数
#### Rコード例（線形）
```
# lm関数を使用
result <- lm(y ~ x1 + x2)

# 推定結果の詳細確認をsummary()で行う
summary(result)
```

### 赤池情報量規準(Akaike information criterion: AIC)
重回帰分析において、この基準が小さくなる説明変数を取捨選択することでモデルを選ぶ。

#### Rコード例
```
# AICを使用するためにMASSライブラリをインストール
install.packages("MASS")
library(MASS)
sel <-stepAIC(result)
summary(sel)
```

### 非線形回帰
結果に対して１つの原因の影響を分析する手法。直線で近似できない時に多項式でデータを近似する。
#### Rコード例（非線形）
```
# lm関数を使用。 2 次の項は I(x2^2) で作成できる。
result <- lm(y ~ x1 + I(x2^2)) 

# 推定結果の詳細確認をsummary()で行う
summary(result)
```

# ロジスティック回帰
いくつかの要因（説明変数）から「2値の結果（目的変数）」が起こる確率を説明・予測する。例えば、この人は大学に合格/不合格するか。

#### Rコード例
```
# gml関数を使用。family = “binomial” と指定することによりロジスティクス回帰を実行。
result <- glm(y ~ x1, family = "binomial")

# 推定結果の詳細確認をsummary()で行う。
summary(result)

# coef()関数で回帰係数を確認できる。
coef(result)
```

# 主成分分析
多くの変数を、情報をなるべく保ったまま少数の代表的な指標にまとめる手法。

#### Rコード例
```
# princomp関数を使用。
result <- princomp(data, cor=TRUE, scale=TRUE)
```
